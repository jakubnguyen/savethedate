<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Save the Date</title>
  <!-- Open Graph (Facebook, LinkedIn, Messenger) -->
<meta property="og:title" content="Save the Date">
<meta property="og:image" content="https://nguyenovi.cz/savethedate/photo2.jpg">
<meta property="og:image:type" content="image/jpeg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="Save the Date">

<!-- Twitter / X -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Save the Date">
<meta name="twitter:image" content="https://nguyenovi.cz/savethedate/photo2.jpg">

  <link href="https://fonts.googleapis.com/css2?family=Cardo:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    :root{
      /* Gradient pro OBOU scén (shora → střed → dole) */
      --bg-top:#e5b7d4;
      --bg-mid:#bfb8da;
      --bg-bot:#7facd6;
      --white:#ffffff;
      --heart:#a5678e; /* barva srdce */
      --ease:cubic-bezier(.2,.8,.2,1);
      --expand-ms:800ms;
    }
    *{box-sizing:border-box;margin:0}
    html,body{height:100%}
    body{
      min-height:100vh; overflow:hidden; user-select:none;
      font-family:'Cardo',serif; color:var(--white);
      background: linear-gradient(180deg,var(--bg-top) 0%, var(--bg-mid) 50%, var(--bg-bot) 100%);
    }
    .stage{position:relative; height:100vh; display:grid; place-items:center}

    /* === ÚVOD: SRDCE === */
    /* FIX: mobilní výška viewportu (iOS/Android) */
.intro{
  position: relative;
  height: 100dvh;      /* dynamická výška, centrování bez vlivu adresního řádku */
  display: grid;
  place-items: center;
  z-index: 5;
}
/* Fallback pro starší prohlížeče */
@supports not (height: 100dvh){
  .intro{ height: 100vh; }
}

.heart-wrap{
  position: relative;
  width: clamp(200px, 56vw, 270px);
  height: clamp(200px, 56vw, 270px);
  cursor: pointer;
}
.heart{
  position: absolute; left:50%; top:50%;
  transform: translate(-50%, -50%);
  width: clamp(180px, 50vw, 240px);
  height: clamp(180px, 50vw, 240px);
  transition: width var(--expand-ms) var(--ease), height var(--expand-ms) var(--ease);
}

/* ponech: .heart-wrap.expanding .heart { width:220vmax; height:220vmax; } */

    /* Použijeme SVG, ať je tvar vždy perfektní */
   
    .heart svg{ width:100%; height:100%; display:block; }
    .heart path{ fill: var(--heart); }
    .heart svg{ width:100%; height:100%; display:block; }
    .heart path{ fill: var(--heart); }

.cta{
  position: absolute; left:50%; top:50%;
  transform: translate(-50%, -50%);
  width: auto; text-align: center;
  font-size: clamp(12px, 3.2vw, 16px);  /* menší strop + lépe škáluje na mobilech */
  letter-spacing: 1px;
  text-transform: uppercase;
  opacity: .95; pointer-events: none; white-space: nowrap;
}
    .heart-wrap.clicked .cta{ opacity:0; }

    /* expand na velikost, která zaručeně pokryje viewport */
    .heart-wrap.expanding .heart{ width:220vmax; height:220vmax; }

    /* === FINÁLNÍ OBSAH – převzatý z originálu, jen bez vlastního pozadí === */
    .final-content{ position:fixed; inset:0; display:flex; flex-direction:column; justify-content:center; align-items:center; opacity:0; visibility:hidden; transition:opacity 420ms ease; /* žádné background – necháme global gradient */ color:var(--white); text-align:center; z-index:10; padding:2rem; }
    .final-content.visible{ opacity:1; visibility:visible; }
    .photo-placeholder{ width:280px; height:280px; background:rgba(255,255,255,.12); border-radius:50%; margin-bottom:2.4rem; display:flex; justify-content:center; align-items:center; backdrop-filter:blur(10px); border:2px solid rgba(255,255,255,.25); position:relative; overflow:hidden; flex-shrink:0; }
    .photo-placeholder img{ width:100%; height:100%; object-fit:cover; border-radius:50%; }
    .names{ font-size:2rem; letter-spacing:4px; text-transform:uppercase; margin-bottom:1.3rem; color:var(--heart); font-weight:400;  font-weight:400; }
    .date{ font-size:2.5rem; margin-bottom:1.2rem; color:var(--heart); font-weight:400; }
    .headline{ font-size:2.5rem; margin:.4rem 0 .9rem; letter-spacing:2px; color:var(--white); font-weight:400; }
    .details{ font-size:1.3rem; line-height:1.6; max-width:600px; color:var(--white); }

    @media (max-width:768px){
      .heart{ width:150px; height:150px; }
      .photo-placeholder{ width:220px; height:220px; margin-bottom:1.8rem; }
      .names{ font-size:1.7rem; letter-spacing:2px; margin-bottom:1rem; }
      .date{ font-size:1.9rem; margin-bottom:.9rem; }
      .headline{ font-size:2rem; margin:.3rem 0 .7rem; }
      .details{ font-size:1rem; padding:0 1rem; }
    }
  </style>
</head>
<body>
  <!-- jen song1, začne hrát po kliku -->
  <audio id="track1" preload="auto">
    <source src="song1.mp3" type="audio/mpeg" />
    <source src="song1.ogg" type="audio/ogg" />
  </audio>

  <!-- Úvodní scéna: srdce -->
  <section class="intro">
    <div id="heartWrap" class="heart-wrap" aria-label="Klikni na mě">
      <div class="heart" id="heart">
        <!-- čisté SVG srdce -->
        <svg viewBox="0 0 512 512" aria-hidden="true" preserveAspectRatio="xMidYMid meet" shape-rendering="geometricPrecision"><path d="M256 464c-7.7 0-15.1-3-20.6-8.5L67.9 287.6C2.1 221.9 7.6 115.6 86.5 69.3c50.6-29.6 116.6-18.8 158 21.9L256 101l11.5-9.8c41.4-40.8 107.4-51.5 158-21.9 78.9 46.3 84.4 152.6 18.6 218.3L276.6 455.5c-5.5 5.5-12.9 8.5-20.6 8.5z"/></svg>
      </div>
      <div class="cta">Klikni na mě</div>
    </div>
  </section>

  <!-- Finální scéna – stejná struktura jako originál, jen bílé a netučné -->
  <section class="final-content" id="finalContent" aria-hidden="true">
    <div class="photo-placeholder">
      <img src="photo.jpg" alt="Simča & Kuba" />
    </div>
    <div class="names">Simča & Kuba</div>
    <div class="date">29. 08. 2026</div>
    <div class="headline">Budeme se brát</div>
    <div class="details">
      A bez tebe by to nebylo ono.<br>
      Budeme rádi, když si na nás v tento den uděláš čas ☺️
    </div>
  </section>

  <script>
    const wrap = document.getElementById('heartWrap');
    const heart = document.getElementById('heart');
    const final = document.getElementById('finalContent');
    const audio = document.getElementById('track1');

    function showFinal(){
      final.classList.add('visible');
      // skryj intro, ať nic nepřekáží
      wrap.style.display = 'none';
    }

    wrap.addEventListener('click', () => {
      if(wrap.classList.contains('expanding')) return;
      wrap.classList.add('clicked');
      // hudba startuje hned po kliku
      audio.currentTime = 0; audio.play().catch(()=>{});
      // spustíme expanzi srdce
      wrap.classList.add('expanding');

      // navázání na konec animace (šířka/výška) + bezpečný fallback
      const D = 800; // v souladu s --expand-ms
      let done=false;
      const onEnd = (e) => {
        if(done) return; if(e.target!==heart) return;
        if(e.propertyName!=='width' && e.propertyName!=='height') return;
        done=true; heart.removeEventListener('transitionend', onEnd); showFinal();
      };
      heart.addEventListener('transitionend', onEnd);
      setTimeout(()=>{ if(!done){ done=true; heart.removeEventListener('transitionend', onEnd); showFinal(); } }, D+80);
    });
  </script>
</body>
</html>
