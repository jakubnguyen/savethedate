<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Save the Date</title>
<link href="https://fonts.googleapis.com/css2?family=Cardo:wght@400;700&display=swap" rel="stylesheet">
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: 'Cardo', serif;
background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
min-height: 100vh;
overflow: hidden;
user-select: none;
transition: background 0.8s ease;
}

body.simca-mode {
background: linear-gradient(135deg, #d7b0ff 0%, #c9a0ff 100%);
}

body.kuba-mode {
background: linear-gradient(135deg, #fffcc9 0%, #fff0a0 100%);
}

.container {
position: relative;
width: 100%;
height: 100vh;
display: flex;
justify-content: center;
align-items: center;
}

/* Pentagon shape using clip-path */
.pentagon {
width: 200px;
height: 200px;
background: linear-gradient(135deg, #24b2ff 0%, #1e90ff 100%);
position: absolute;
cursor: pointer;
transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%);
box-shadow: 0 20px 40px rgba(36, 178, 255, 0.3);
z-index: 10;
display: flex;
justify-content: center;
align-items: center;
}

.pentagon:hover {
transform: scale(1.1);
box-shadow: 0 30px 60px rgba(36, 178, 255, 0.4);
}

.pentagon-text {
color: white;
font-size: 16px;
font-weight: 400;
letter-spacing: 2px;
text-transform: uppercase;
text-align: center;
animation: pulse 2s infinite;
}

@keyframes pulse {
0%, 100% { opacity: 0.7; }
50% { opacity: 1; }
}

/* Small pentagons for the game */
.small-pentagon {
width: 60px;
height: 60px;
background: linear-gradient(135deg, #24b2ff 0%, #1e90ff 100%);
position: absolute;
clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%);
cursor: grab;
transition: transform 0.2s ease;
box-shadow: 0 10px 20px rgba(36, 178, 255, 0.3);
z-index: 15;
}

.small-pentagon:hover {
transform: scale(1.1);
}

.small-pentagon:active {
cursor: grabbing;
transform: scale(0.9);
}

.small-pentagon.eaten {
animation: eatAnimation 0.5s ease forwards;
}

@keyframes eatAnimation {
0% {
transform: scale(1);
opacity: 1;
}
50% {
transform: scale(1.3);
opacity: 0.8;
}
100% {
transform: scale(0);
opacity: 0;
}
}

/* SVG Head with open mouth */
.head-container {
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
opacity: 0;
visibility: hidden;
transition: all 0.5s ease;
z-index: 5;
}

.head-container.visible {
opacity: 1;
visibility: visible;
}

.svg-head {
width: 200px;
height: 260px;
filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2));
object-fit: contain;
}

.svg-head:hover {
filter: drop-shadow(0 15px 25px rgba(0, 0, 0, 0.3));
transform: scale(1.02);
}

/* Target area for the mouth - invisible overlay */
.mouth-target {
position: absolute;
bottom: 80px;
left: 50%;
transform: translateX(-50%);
width: 60px;
height: 40px;
}

.arrow {
position: absolute;
top: -80px;
left: 50%;
transform: translateX(-50%);
width: 0;
height: 0;
border-left: 20px solid transparent;
border-right: 20px solid transparent;
border-top: 40px solid #ff6b6b;
animation: bounce 1s infinite;
}

@keyframes bounce {
0%, 100% { transform: translateX(-50%) translateY(0); }
50% { transform: translateX(-50%) translateY(-10px); }
}

.instruction {
position: absolute;
top: -120px;
left: 50%;
transform: translateX(-50%);
color: #333;
font-size: 18px;
font-weight: 400;
text-align: center;
white-space: nowrap;
}

/* Final content */
.final-content {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
opacity: 0;
visibility: hidden;
transition: all 0.8s ease;
background: linear-gradient(135deg, #24b2ff 0%, #1e90ff 100%);
color: white;
text-align: center;
z-index: 20;
padding: 2rem;
}

.final-content.visible {
opacity: 1;
visibility: visible;
}

.photo-placeholder {
width: 280px;
height: 280px;
background: rgba(255, 255, 255, 0.1);
border-radius: 50%;
margin-bottom: 3rem;
display: flex;
justify-content: center;
align-items: center;
backdrop-filter: blur(10px);
border: 2px solid rgba(255, 255, 255, 0.2);
position: relative;
overflow: hidden;
flex-shrink: 0;
}

.photo-placeholder img {
width: 100%;
height: 100%;
object-fit: cover;
border-radius: 50%;
}

.photo-text {
color: rgba(255, 255, 255, 0.8);
font-size: 16px;
font-weight: 400;
}

.save-date-text {
font-family: 'Cardo', serif;
font-size: 2.5rem;
font-weight: 400;
margin-bottom: 1rem;
letter-spacing: 2px;
color: white;
}

.save-date-text .big-b {
font-weight: 700;
color: #1e3a8a;
text-transform: uppercase;
}

.date {
font-family: 'Cardo', serif;
font-size: 2.5rem;
font-weight: 400;
margin-bottom: 2rem;
color: white;
}

.names {
font-size: 1.5rem;
font-weight: 400;
letter-spacing: 4px;
text-transform: uppercase;
margin-bottom: 2rem;
color: white;
}

.details {
font-size: 1.2rem;
font-weight: 400;
line-height: 1.6;
max-width: 600px;
color: white;
}

/* Progress Counter - Top Center */
.progress {
position: fixed;
top: 20px;
left: 50%;
transform: translateX(-50%);
background: rgba(30, 30, 30, 0.9);
padding: 15px 25px;
border-radius: 30px;
color: white;
font-weight: 600;
font-size: 16px;
backdrop-filter: blur(10px);
border: 2px solid rgba(255, 255, 255, 0.1);
opacity: 0;
visibility: hidden;
transition: all 0.3s ease;
z-index: 25;
box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
}

.progress.visible {
opacity: 1;
visibility: visible;
}

/* Mode Control Section - Bottom Center - FIXED VERSION */
.mode-control-section {
position: fixed;
bottom: 20px;
left: 50%;
transform: translateX(-50%);
display: flex;
align-items: center;
gap: 16px;
opacity: 0;
visibility: hidden;
transition: all 0.3s ease;
z-index: 30;
}

.mode-control-section.visible {
opacity: 1;
visibility: visible;
}

.mode-button {
min-width: 140px;
height: 48px;
background: rgba(30, 30, 30, 0.9);
color: white;
padding: 0 18px;
border-radius: 25px;
font-size: 14px;
backdrop-filter: blur(10px);
border: 2px solid rgba(255, 255, 255, 0.1);
box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
cursor: pointer;
transition: all 0.3s ease;
font-family: 'Cardo', serif;
text-transform: capitalize;
display: flex;
align-items: center;
justify-content: center;
font-weight: 700;
letter-spacing: 0.3px;
}

.mode-button:hover {
transform: scale(1.05);
border-color: rgba(255, 255, 255, 0.3);
}

.mode-button:active {
transform: scale(0.98);
}

.mode-button.active {
background: rgba(36, 178, 255, 0.9);
font-weight: 600;
border-color: rgba(255, 255, 255, 0.3);
}

.mode-button.inactive {
color: #888;
background: rgba(60, 60, 60, 0.7);
}

/* Heart with exact styling from attachment */
.heart-indicator {
width: 52px;
height: 52px;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
background: rgba(30, 30, 30, 0.9);
border: 2px solid rgba(255, 255, 255, 0.1);
box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
font-size: 22px;
user-select: none;
transition: all 0.3s ease;
}

/* Responsive scaling for mode controls */
@media (max-width: 480px) {
.mode-control-section {
bottom: 15px;
gap: 12px;
}

.mode-button {
min-width: 120px;
height: 44px;
font-size: 13px;
padding: 0 14px;
}

.heart-indicator {
width: 48px;
height: 48px;
font-size: 20px;
}
}

@media (max-width: 600px) and (min-width: 481px) {
.mode-control-section {
gap: 14px;
}

.mode-button {
min-width: 130px;
height: 46px;
font-size: 13px;
padding: 0 16px;
}

.heart-indicator {
width: 50px;
height: 50px;
font-size: 21px;
}
}

/* Mobile responsiveness */
@media (max-width: 768px) {
.pentagon {
width: 150px;
height: 150px;
}

.pentagon-text {
font-size: 12px;
}

.small-pentagon {
width: 45px;
height: 45px;
}

.instruction {
font-size: 14px;
top: -100px;
}

.svg-head {
width: 150px;
height: 195px;
}

.mouth-target {
bottom: 60px;
width: 45px;
height: 30px;
}

.arrow {
top: -60px;
border-left: 15px solid transparent;
border-right: 15px solid transparent;
border-top: 30px solid #ff6b6b;
}

.save-date-text {
font-size: 1.9rem;
}

.save-date-text .big-b {
font-size: 1.9rem;
}

.date {
font-size: 1.8rem;
}

.names {
font-size: 1.2rem;
letter-spacing: 2px;
}

.details {
font-size: 1rem;
padding: 0 1rem;
}

.photo-placeholder {
width: 220px;
height: 220px;
margin-bottom: 2rem;
}

.progress {
top: 15px;
padding: 10px 18px;
font-size: 14px;
}
}
</style>
</head>
<body>
<!-- Background Music - Two Tracks -->
<audio id="track1" loop>
<source src="song1.mp3" type="audio/mpeg">
<source src="song1.ogg" type="audio/ogg">
</audio>

<audio id="track2" loop>
<source src="song2.mp3" type="audio/mpeg">
<source src="song2.ogg" type="audio/ogg">
</audio>

<!-- Progress Counter - Top Center -->
<div class="progress" id="progress">
Nabito: <span id="fedCount">0</span>/10
</div>

<!-- Mode Control Section - Bottom Center -->
<div class="mode-control-section" id="modeControlSection">
<div class="mode-button active" id="simcaButton">Simƒça Mode</div>
<div class="heart-indicator" id="heartIndicator">üíú</div>
<div class="mode-button inactive" id="kubaButton">Kuba Mode</div>
</div>

<div class="container">
<!-- Initial pentagon -->
<div class="pentagon" id="mainPentagon">
<div class="pentagon-text">Klikni na mƒõ!</div>
</div>

<!-- Head with SVG -->
<div class="head-container" id="headContainer">
<div class="instruction">Nakrm mƒõ v≈°emi pentagony!</div>
<div class="arrow"></div>

<!-- External SVG Head -->
<img src="head.svg" alt="Head with open mouth" class="svg-head">

<!-- Invisible target area for collision detection -->
<div class="mouth-target" id="mouthTarget"></div>
</div>

<!-- Final content -->
<div class="final-content" id="finalContent">
<div class="photo-placeholder">
<img src="photo.jpg" alt="Simƒça & Kuba">
<!-- Fallback: <div class="photo-text">Va≈°e foto zde</div> -->
</div>

<div class="names">Simƒça & Kuba</div>
<div class="date">29. 08. 2026</div>
<div class="save-date-text">
<span class="big-b">B</span>udeme se <span class="big-b">B</span>r√°t
</div>
<div class="details">
A bez tebe by to nebylo ono.<br>
Budeme r√°di, kdy≈æ si na n√°s v tento den udƒõl√°≈° ƒças ‚ò∫Ô∏è
</div>
</div>
</div>

<script>
const mainPentagon = document.getElementById('mainPentagon');
const headContainer = document.getElementById('headContainer');
const mouthTarget = document.getElementById('mouthTarget');
const progress = document.getElementById('progress');
const fedCountSpan = document.getElementById('fedCount');
const finalContent = document.getElementById('finalContent');
const track1 = document.getElementById('track1');
const track2 = document.getElementById('track2');
const modeControlSection = document.getElementById('modeControlSection');
const simcaButton = document.getElementById('simcaButton');
const kubaButton = document.getElementById('kubaButton');
const heartIndicator = document.getElementById('heartIndicator');

let smallPentagons = [];
let fedCount = 0;
let isDragging = false;
let dragElement = null;
let gameStarted = false;
let musicStarted = false;
let currentTrack = 1; // 1 = Simƒça Mode (track1), 2 = Kuba Mode (track2)

// Start the game
mainPentagon.addEventListener('click', startGame);

// Mode button controls
simcaButton.addEventListener('click', () => switchToMode(1));
kubaButton.addEventListener('click', () => switchToMode(2));

function startGame() {
if (gameStarted) return;
gameStarted = true;

// Hide main pentagon
mainPentagon.style.opacity = '0';
mainPentagon.style.transform = 'scale(0)';

// Start music and show controls
startMusic();
showControls();

setTimeout(() => {
mainPentagon.style.display = 'none';
createSmallPentagons();
showHead();
}, 500);
}

function startMusic() {
if (!musicStarted) {
musicStarted = true;
track1.play().catch(e => console.log('Autoplay prevented:', e));
document.body.classList.add('simca-mode');
}
}

function showControls() {
setTimeout(() => {
modeControlSection.classList.add('visible');
progress.classList.add('visible');
}, 1000);
}

function switchToMode(mode) {
if (!musicStarted) return;

// Stop current track
track1.pause();
track2.pause();
track1.currentTime = 0;
track2.currentTime = 0;

// Switch track
currentTrack = mode;

// Play new track and change background
if (currentTrack === 1) {
track1.play().catch(e => console.log('Autoplay prevented:', e));
document.body.classList.remove('kuba-mode');
document.body.classList.add('simca-mode');
} else {
track2.play().catch(e => console.log('Autoplay prevented:', e));
document.body.classList.remove('simca-mode');
document.body.classList.add('kuba-mode');
}

updateModeDisplay();
}

function updateModeDisplay() {
if (currentTrack === 1) {
// Simƒça Mode active
simcaButton.classList.add('active');
simcaButton.classList.remove('inactive');
kubaButton.classList.add('inactive');
kubaButton.classList.remove('active');
heartIndicator.textContent = 'üíú';
} else {
// Kuba Mode active
kubaButton.classList.add('active');
kubaButton.classList.remove('inactive');
simcaButton.classList.add('inactive');
simcaButton.classList.remove('active');
heartIndicator.textContent = 'üíõ';
}
}

function createSmallPentagons() {
const container = document.querySelector('.container');

// Safe area boundaries - avoid UI elements
const topSafeZone = 80; // Below progress counter
const bottomSafeZone = 100; // Above mode controls
const sideMargin = 60; // Margin from sides

for (let i = 0; i < 10; i++) {
const smallPentagon = document.createElement('div');
smallPentagon.className = 'small-pentagon';

// Random position within safe area
const x = sideMargin + Math.random() * (window.innerWidth - (sideMargin * 2) - 60);
const y = topSafeZone + Math.random() * (window.innerHeight - topSafeZone - bottomSafeZone - 60);

smallPentagon.style.left = x + 'px';
smallPentagon.style.top = y + 'px';

// Add drag functionality
addDragFunctionality(smallPentagon);

container.appendChild(smallPentagon);
smallPentagons.push(smallPentagon);

// Animate in
setTimeout(() => {
smallPentagon.style.opacity = '1';
}, i * 100);
}
}

function showHead() {
setTimeout(() => {
headContainer.classList.add('visible');
}, 1000);
}

function addDragFunctionality(element) {
element.addEventListener('mousedown', startDrag);
element.addEventListener('touchstart', startDrag, {passive: false});
}

function startDrag(e) {
if (isDragging) return;

isDragging = true;
dragElement = e.target;

e.preventDefault();

document.addEventListener('mousemove', drag);
document.addEventListener('mouseup', stopDrag);
document.addEventListener('touchmove', drag, {passive: false});
document.addEventListener('touchend', stopDrag);
}

function drag(e) {
if (!isDragging || !dragElement) return;

e.preventDefault();

let clientX, clientY;
if (e.type === 'touchmove') {
clientX = e.touches[0].clientX;
clientY = e.touches[0].clientY;
} else {
clientX = e.clientX;
clientY = e.clientY;
}

dragElement.style.left = (clientX - 30) + 'px';
dragElement.style.top = (clientY - 30) + 'px';

// Check collision with mouth
checkCollision(dragElement, clientX, clientY);
}

function stopDrag() {
isDragging = false;
dragElement = null;

document.removeEventListener('mousemove', drag);
document.removeEventListener('mouseup', stopDrag);
document.removeEventListener('touchmove', drag);
document.removeEventListener('touchend', stopDrag);
}

function checkCollision(element, x, y) {
const mouthRect = mouthTarget.getBoundingClientRect();
const mouthCenterX = mouthRect.left + mouthRect.width / 2;
const mouthCenterY = mouthRect.top + mouthRect.height / 2;

const distance = Math.sqrt(
Math.pow(x - mouthCenterX, 2) + Math.pow(y - mouthCenterY, 2)
);

// Vƒõt≈°√≠ tolerance pro lep≈°√≠ UX
if (distance < 60) {
feedPentagon(element);
}
}

function feedPentagon(element) {
if (element.classList.contains('eaten')) return;

element.classList.add('eaten');
fedCount++;
fedCountSpan.textContent = fedCount;

// Remove element after animation
setTimeout(() => {
element.remove();

if (fedCount >= 10) {
showFinalContent();
}
}, 500);
}

function showFinalContent() {
setTimeout(() => {
headContainer.classList.remove('visible');

setTimeout(() => {
finalContent.classList.add('visible');
}, 500);
}, 1000);
}

// Prevent default drag behavior on images
document.addEventListener('dragstart', (e) => e.preventDefault());
</script>
</body>
</html>
